<!doctype html>
<html>
<head>
    <title>Beer League Baseball Challenge</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta charset="UTF-8">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-form.css">
    <!-- Javascript -->
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.validate.js"></script>
    <script>
     $(document).ready(function() {
        /*form validation
        $('#modalSubmit').click( function(){
          $('.control-group').removeClass('success error');
          validate.resetForm();
        });


        var validate = $("#modal_form").validate({
          rules: {
            teamName: {
              minlength: 2,
              required: true
            },
            mgr_fname: {
              minlength: 2,
              required: true
            },
            mgr_lname: {
              minlength: 2,
              required: true
            },
            phone: {
              digits: true,
              required: true,
              rangelength: [10, 10]
            },
            sponsor: {
              minlength: 2,
              required: true
            },
            zip: {       
              digits: true,
              required: true,
              rangelength: [5, 5]
            }
          },
          highlight: function(element) {
            $(element).closest('.control-group').removeClass('success').addClass('error');
          },
          success: function(element) {
            element
            .text('OK!').addClass('valid')
            .closest('.control-group').removeClass('error').addClass('success');
          }
        });*/
      // Declare Variables
      var league_array = [];

      // Function to collect team information and store it in an array
      $('#modalSubmit').click(function() {
        
        var team_array = [];
        
        $('.teamInput').each(function() {
          team_array.push($(this).val());
        }); //end teamInput each
        
        //var teamLink = team_array[0]
        //title="teamLink" data-content="'Manager: "
        
        $('#teamTable').append(
          "<tr><td><p class='show'>" + team_array[0] + "</p>" + 
          "<p class='more'>" + "Manager: " + team_array[1] + " " + team_array[2] + "</p>" + 
          "</td><td>" + 0 + 
          "</td><td>" + 0 + 
          "</td><td>" + 0 + 
          "</td></tr>");

        function showTeaminfo() {
          $('.more').hide();
          $('.show').click(
            function () {$(this).next('.more').toggle();}
            );
          }

        showTeaminfo();

        league_array.push(team_array);
        
        $('#myModal').modal('hide');

        $(this).closest('form').find("input[type=text], textarea").val("");
        // console.log(league_array);
        // return false;
      }); //end modal form button click
     
      //function to test storage of data
       $('#test').click(function(){
       console.log(league_array[0]);
       console.log(league_array[1]);
      })

     }); //end document ready
    </script>
</head>
<body>
<div class="container-fluid">
 <div class="span12 wrapper">
  <h1>Beer League Baseball Challenge</h1>

  <div class="tableWrap">
   <table class="table table-striped table-bordered">
    <caption>Standings</caption>
    <thead>
     <tr>
      <th>Team</th>
      <th>W</th>
      <th>L</th>
      <th>%</th>
     </tr>
    </thead>
    <tbody id="teamTable">
    </tbody>
   </table>     
  </div>

  <!-- Button to trigger modal -->
  <a href="#myModal" role="button" class="btn" data-toggle="modal">Add a Team</a>
  <button id="test" type="submit" class="btn" onclick="return false">test</button>
  <!-- Modal -->
  <div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3 id="myModalLabel">Team Information</h3>
   </div>
   <div class="modal-body">
    <form id="modal_form" class="form form-horizontal">
     <div class="control-group">
       <label class="control-label" for="inputTeamName">Team Name</label>
       <div class="controls">
         <input name="teamName" type="text" id="inputTeamName" class="teamInput" placeholder="Team Name" data-error="This field is required." required>
       </div>
     </div>
     <div class="control-group">
       <label class="control-label" for="inputMgrFirstName">Manager First Name</label>
       <div class="controls">
         <input name="firstName" type="text" id="inputMgrFirstName" class="teamInput" placeholder="Manager First Name" data-error="This field is required." required>
       </div>
     </div>
     <div class="control-group">
       <label class="control-label" for="inputMgrLastName">Manager Last Name</label>
       <div class="controls">
         <input name="lastName" type="text" id="inputMgrLastName" class="teamInput" placeholder="Manager Last Name">
       </div>
     </div>
     <div class="control-group">
       <label class="control-label" for="inputPhoneNumber">Phone Number</label>
       <div class="controls">
         <input name="phoneNumber" type="text" id="inputPhoneNumber" class="teamInput" placeholder="Phone Number">
       </div>
     </div>
     <div class="control-group">
       <label class="control-label" for="inputSponsor">Sponsor</label>
       <div class="controls">
         <input name="sponsor" type="text" id="inputSponsor" class="teamInput" placeholder="Sponsor">
       </div>
     </div>
     <div class="control-group">
       <label class="control-label" for="inputZip">Zip Code</label>
       <div class="controls">
         <input name="zip" type="text" id="inputZip" class="teamInput" placeholder="Zip Code">
       </div>
     </div>
     <div class="controls">
       <button id="modalSubmit" type="submit" class="btn btn-primary" onclick="return false">Submit</button>
       <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
     </div>
    </form> 
   </div>
<!--    <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary">Save changes</button>
   </div> -->
  </div> <!-- End Modal -->
 </div> <!-- End Wrapper -->
</div> <!-- End Container -->
<div id="value"></div>
</body>
</html>